<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1015px" preserveAspectRatio="none" style="width:2677px;height:1015px;" version="1.1" viewBox="0 0 2677 1015" width="2677px" zoomAndPan="magnify"><defs><filter height="300%" id="frcxfdt427oqi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="398" x="1145.5" y="16.708">Medstrack Backend Architecture run and test</text><!--MD5=[ee1abb1fa80309354971ec4fff8b2dbf]
cluster com.medstrack.Medstrack.controller--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="601,44.9531,897,44.9531,904,67.25,1023,67.25,1023,456.9531,601,456.9531,601,44.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="601" x2="904" y1="67.25" y2="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="605" y="59.9482">com.medstrack.Medstrack.controller</text><!--MD5=[5efe58787319f3a170943fc8330ed514]
cluster com.medstrack.Medstrack.dto--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="22,198.9531,267,198.9531,274,221.25,577,221.25,577,456.9531,22,456.9531,22,198.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="274" y1="221.25" y2="221.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="239" x="26" y="213.9482">com.medstrack.Medstrack.dto</text><!--MD5=[e5af12d2716364b72c41cf69d1b10858]
cluster com.medstrack.Medstrack.service--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="1047,259.4531,1324,259.4531,1331,281.75,1459,281.75,1459,706.9531,1047,706.9531,1047,259.4531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1047" x2="1331" y1="281.75" y2="281.75"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="1051" y="274.4482">com.medstrack.Medstrack.service</text><!--MD5=[35ace1d31280ce196562244a62f293bd]
cluster com.medstrack.Medstrack.repository--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="1561,511.9531,1862,511.9531,1869,534.25,1877,534.25,1877,961.4531,1561,961.4531,1561,511.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1561" x2="1869" y1="534.25" y2="534.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="1565" y="526.9482">com.medstrack.Medstrack.repository</text><!--MD5=[34989a11c9164467d4dedcbd40c4699f]
cluster com.medstrack.Medstrack.model--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="1067,771.9531,1334,771.9531,1341,794.25,1537,794.25,1537,983.9531,1067,983.9531,1067,771.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1067" x2="1341" y1="794.25" y2="794.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="1071" y="786.9482">com.medstrack.Medstrack.model</text><!--MD5=[cd09a31e374d3ba35fd45e1567298dba]
cluster org.springframework.data.jpa.repository--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="1901,543.9531,2229,543.9531,2236,566.25,2239,566.25,2239,642.9531,1901,642.9531,1901,543.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1901" x2="2236" y1="566.25" y2="566.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="322" x="1905" y="558.9482">org.springframework.data.jpa.repository</text><!--MD5=[fc9c02cb15e65252431e024d5ccd4c94]
cluster org.springframework.security.crypto.password--><polygon fill="#FFFFFF" filter="url(#frcxfdt427oqi)" points="2263,543.9531,2645,543.9531,2652,566.25,2655,566.25,2655,642.9531,2263,642.9531,2263,543.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2263" x2="2652" y1="566.25" y2="566.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="376" x="2267" y="558.9482">org.springframework.security.crypto.password</text><!--MD5=[de021bd4f2e50b11f9d15f4afadd785a]
cluster PostgreSQL Database--><path d="M2225.9559,773.2176 C2232.2039,764.4437 2238.3016,763.0498 2246.169,771.2943 C2254.3314,760.1346 2260.7183,760.8605 2267.4653,772.61 C2271.8488,760.8121 2282.0083,761.5241 2288.9192,769.9257 C2293.6619,761.7117 2303.3486,760.9951 2308.5576,769.3738 C2316.7089,758.4906 2324.4574,759.422 2330.2477,771.5949 C2333.0996,761.4715 2340.2498,759.7303 2347.4858,767.3311 C2353.7934,757.1287 2363.4494,756.4172 2369.1978,767.8912 C2375.6865,757.2921 2386.1519,757.3697 2392.2744,768.284 C2398.3092,760.09 2406.2653,758.5558 2411.7667,768.8463 C2418.7865,759.9562 2424.5715,760.7411 2430.8095,769.6813 C2437.5847,758.1739 2448.8978,758.7475 2453.7434,771.505 C2459.935,763.0811 2469.5954,764.4479 2473.803,773.7502 C2479.2393,766.2784 2487.2507,766.1339 2492.5477,773.9211 C2501.809,761.7855 2514.4207,766.4763 2519,778.9531 C2520.754,778.147 2521.608,778.6654 2521.8001,780.5678 C2532.7708,789.51 2531.2791,797.7843 2520.1181,805.2161 C2535.0305,810.6508 2533.9509,820.8693 2524.7951,830.718 C2535.7842,838.0238 2538.1965,849.7178 2524.6772,856.9133 C2534.9283,863.5031 2534.7532,871.817 2524.3902,878.1279 C2534.8622,885.2402 2534.0237,896.5538 2523.4094,902.8289 C2535.485,910.5296 2537.0741,920.1375 2524.9151,929.2208 C2535.907,938.222 2533.8801,948.2655 2520.5418,952.7432 C2534.8629,967.7217 2531.6619,978.2753 2512,983.9531 C2513.2767,984.2831 2513.702,985.021 2512.7574,986.1255 C2506.9689,996.4033 2496.9007,994.982 2491.9126,985.2901 C2486.1965,993.286 2479.5927,995.7377 2473.2231,985.9779 C2469.0313,998.3107 2460.8278,998.3181 2452.7399,989.8066 C2446.8928,1000.6108 2439.0728,1000.0775 2432.6267,990.3947 C2427.6133,1000.1241 2417.236,1002.8232 2410.7751,991.9283 C2404.9707,1002.9143 2396.6732,1001.0473 2390.7853,992.0117 C2385.3832,1003.2195 2375.8468,1003.2397 2369.2409,993.2344 C2364.0537,1002.8795 2356.1783,1001.5693 2350.9492,993.2771 C2344.0266,1003.115 2333.8769,1001.5098 2329.8442,990.3697 C2323.6665,998.5177 2314.0518,997.566 2309.3206,988.6318 C2303.3001,999.8065 2295.9633,1000.1742 2287.9219,990.7292 C2280.3052,999.2375 2271.0072,998.6463 2266.7679,987.1566 C2261.2479,996.8746 2252.2637,996.4777 2247.8061,986.1517 C2235.1087,999.4158 2220.4158,994.7733 2217,976.9531 C2218.4962,976.3793 2219.4284,977.3843 2219.2321,978.8268 C2205.5301,971.1235 2204.916,962.1435 2217.6567,952.8374 C2206.0409,945.6799 2202.9773,938.4752 2214.9225,928.6539 C2202.0034,922.5606 2201.5303,912.1359 2212.6723,903.8591 C2199.1778,897.3225 2199.8281,886.3027 2211.7453,878.8252 C2202.52,871.1708 2200.7547,858.892 2214.7354,854.037 C2203.2211,844.9868 2205.9735,836.4768 2217.6465,830.2663 C2208.0367,822.8818 2209.1805,812.9694 2219.0498,806.7472 C2206.2938,795.4141 2203.6404,778.5749 2224,771.9531 C2225.096,771.531 2225.8957,772.0377 2225.9559,773.2176 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="2282.5" y="789.9482">PostgreSQL Database</text><!--MD5=[c6f0e2fc888278fd80920182d5ed24f4]
class UsuarioController--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="60.8047" id="UsuarioController" style="stroke: #A80036; stroke-width: 1.5;" width="389" x="617.5" y="79.9531"/><ellipse cx="753.25" cy="95.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M756.2188,101.5938 Q755.6406,101.8906 755,102.0313 Q754.3594,102.1875 753.6563,102.1875 Q751.1563,102.1875 749.8281,100.5469 Q748.5156,98.8906 748.5156,95.7656 Q748.5156,92.6406 749.8281,90.9844 Q751.1563,89.3281 753.6563,89.3281 Q754.3594,89.3281 755,89.4844 Q755.6563,89.6406 756.2188,89.9375 L756.2188,92.6563 Q755.5938,92.0781 755,91.8125 Q754.4063,91.5313 753.7813,91.5313 Q752.4375,91.5313 751.75,92.6094 Q751.0625,93.6719 751.0625,95.7656 Q751.0625,97.8594 751.75,98.9375 Q752.4375,100 753.7813,100 Q754.4063,100 755,99.7344 Q755.5938,99.4531 756.2188,98.875 L756.2188,101.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="773.75" y="100.1074">UsuarioController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="618.5" x2="1005.5" y1="111.9531" y2="111.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="618.5" x2="1005.5" y1="119.9531" y2="119.9531"/><ellipse cx="628.5" cy="130.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="637.5" y="134.1636">registro(@Valid RegisterUserDTO dto): ResponseEntity&lt;String&gt;</text><path d="M658,233.9531 L658,440.6797 A0,0 0 0 0 658,440.6797 L966,440.6797 A0,0 0 0 0 966,440.6797 L966,243.9531 L956,233.9531 L816,233.9531 L812,141.0631 L808,233.9531 L658,233.9531 A0,0 0 0 0 658,233.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M956,233.9531 L956,243.9531 L966,243.9531 L956,233.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="664" y="251.02">@RestController</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="664" y="266.1528">@PostMapping("/api/usuarios/registro")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="668" y="281.2856"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="664" y="296.4185">INPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="672" y="311.5513">- HTTP POST con JSON (RegisterUserDTO)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="672" y="326.6841">- Validaciones automÃ¡ticas (@Valid)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="668" y="341.8169"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="664" y="356.9497">FLUJO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="672" y="372.0825">- Llama a UserService.registrarUsuario(dto)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="668" y="387.2153"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="664" y="402.3481">OUTPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="672" y="417.481">- JSON (Ã©xito o error)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="672" y="432.6138">- Manejado con @ExceptionHandler global</text><!--MD5=[d4f5606f7802f42e569f10107162791d]
class RegisterUserDTO--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="163.2422" id="RegisterUserDTO" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="38.5" y="255.9531"/><ellipse cx="69.25" cy="271.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M72.2188,277.5938 Q71.6406,277.8906 71,278.0313 Q70.3594,278.1875 69.6563,278.1875 Q67.1563,278.1875 65.8281,276.5469 Q64.5156,274.8906 64.5156,271.7656 Q64.5156,268.6406 65.8281,266.9844 Q67.1563,265.3281 69.6563,265.3281 Q70.3594,265.3281 71,265.4844 Q71.6563,265.6406 72.2188,265.9375 L72.2188,268.6563 Q71.5938,268.0781 71,267.8125 Q70.4063,267.5313 69.7813,267.5313 Q68.4375,267.5313 67.75,268.6094 Q67.0625,269.6719 67.0625,271.7656 Q67.0625,273.8594 67.75,274.9375 Q68.4375,276 69.7813,276 Q70.4063,276 71,275.7344 Q71.5938,275.4531 72.2188,274.875 L72.2188,277.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="86.75" y="276.1074">RegisterUserDTO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="210.5" y1="287.9531" y2="287.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46.5" y="295.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="58.5" y="302.1636">correo: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46.5" y="308.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="58.5" y="314.9683">nombre: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46.5" y="321.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="58.5" y="327.7729">password: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="210.5" y1="334.3672" y2="334.3672"/><ellipse cx="49.5" cy="345.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="58.5" y="348.5776">getCorreo(): String</text><ellipse cx="49.5" cy="358.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="58.5" y="361.3823">setCorreo(String): void</text><ellipse cx="49.5" cy="370.9766" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="58.5" y="374.187">getNombre(): String</text><ellipse cx="49.5" cy="383.7813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="58.5" y="386.9917">setNombre(String): void</text><ellipse cx="49.5" cy="396.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="58.5" y="399.7964">getPassword(): String</text><ellipse cx="49.5" cy="409.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="58.5" y="412.6011">setPassword(String): void</text><path d="M261.5,233.9531 L261.5,333.9531 L211.59,337.9531 L261.5,341.9531 L261.5,440.6797 A0,0 0 0 0 261.5,440.6797 L560.5,440.6797 A0,0 0 0 0 560.5,440.6797 L560.5,243.9531 L550.5,233.9531 L261.5,233.9531 A0,0 0 0 0 261.5,233.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M550.5,233.9531 L550.5,243.9531 L560.5,243.9531 L550.5,233.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="267.5" y="251.02">INPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="275.5" y="266.1528">Datos enviados por cliente:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="283.5" y="281.2856">â€¢ correo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="283.5" y="296.4185">â€¢ nombre</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="283.5" y="311.5513">â€¢ password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="271.5" y="326.6841"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="267.5" y="341.8169">VALIDACIONES:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="275.5" y="356.9497">â€¢ @NotBlank</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="275.5" y="372.0825">â€¢ @Email</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="275.5" y="387.2153">â€¢ @Size(8-12)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="271.5" y="402.3481"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="267.5" y="417.481">OUTPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="275.5" y="432.6138">Objeto validado â†’ enviado a Service Layer</text><!--MD5=[e4ac4745f81aec2db60ad4ddae80b659]
class UserService--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="86.4141" id="UserService" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="1063" y="294.4531"/><ellipse cx="1211.75" cy="310.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1214.7188,316.0938 Q1214.1406,316.3906 1213.5,316.5313 Q1212.8594,316.6875 1212.1563,316.6875 Q1209.6563,316.6875 1208.3281,315.0469 Q1207.0156,313.3906 1207.0156,310.2656 Q1207.0156,307.1406 1208.3281,305.4844 Q1209.6563,303.8281 1212.1563,303.8281 Q1212.8594,303.8281 1213.5,303.9844 Q1214.1563,304.1406 1214.7188,304.4375 L1214.7188,307.1563 Q1214.0938,306.5781 1213.5,306.3125 Q1212.9063,306.0313 1212.2813,306.0313 Q1210.9375,306.0313 1210.25,307.1094 Q1209.5625,308.1719 1209.5625,310.2656 Q1209.5625,312.3594 1210.25,313.4375 Q1210.9375,314.5 1212.2813,314.5 Q1212.9063,314.5 1213.5,314.2344 Q1214.0938,313.9531 1214.7188,313.375 L1214.7188,316.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1232.25" y="314.6074">UserService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1064" x2="1442" y1="326.4531" y2="326.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1071" y="334.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1083" y="340.6636">repository: UserRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1071" y="347.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="1083" y="353.4683">passwordEncoder: PasswordEncoder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1064" x2="1442" y1="360.0625" y2="360.0625"/><ellipse cx="1074" cy="371.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="354" x="1083" y="374.2729">registrarUsuario(RegisterUserDTO dto): void throws Exception</text><path d="M1063.5,514.9531 L1063.5,691.4141 A0,0 0 0 0 1063.5,691.4141 L1342.5,691.4141 A0,0 0 0 0 1342.5,691.4141 L1342.5,524.9531 L1332.5,514.9531 L1207,514.9531 L1203,380.7031 L1199,514.9531 L1063.5,514.9531 A0,0 0 0 0 1063.5,514.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1332.5,514.9531 L1332.5,524.9531 L1342.5,524.9531 L1332.5,514.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="1069.5" y="532.02">@Service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="1069.5" y="547.1528">INYECCIÃ“N:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1077.5" y="562.2856">- repository (acceso DB)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="1077.5" y="577.4185">- passwordEncoder (BCrypt)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1073.5" y="592.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1069.5" y="607.6841">FLUJO DE LÃ“GICA:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="1077.5" y="622.8169">1. Verificar si correo ya existe</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="1077.5" y="637.9497">2. Crear entidad User</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="1077.5" y="653.0825">3. Mapear DTO â†’ User</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1077.5" y="668.2153">4. Encriptar password (BCrypt)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1077.5" y="683.3481">5. Guardar en DB con repository.save()</text><!--MD5=[093c210125347143eef5bb9199eae634]
class UserRepository--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="112.0234" id="UserRepository" style="stroke: #A80036; stroke-width: 1.5;" width="283" x="1577.5" y="546.9531"/><ellipse cx="1667.75" cy="562.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1663.6719,558.7188 L1663.6719,556.5625 L1671.0625,556.5625 L1671.0625,558.7188 L1668.5938,558.7188 L1668.5938,566.7969 L1671.0625,566.7969 L1671.0625,568.9531 L1663.6719,568.9531 L1663.6719,566.7969 L1666.1406,566.7969 L1666.1406,558.7188 L1663.6719,558.7188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="94" x="1688.25" y="567.1074">UserRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1578.5" x2="1859.5" y1="578.9531" y2="578.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1578.5" x2="1859.5" y1="586.9531" y2="586.9531"/><ellipse cx="1588.5" cy="597.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="257" x="1597.5" y="601.1636">findByCorreo(String correo): Optional&lt;User&gt;</text><ellipse cx="1588.5" cy="610.7578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1597.5" y="613.9683">save(S entity): S</text><ellipse cx="1588.5" cy="623.5625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="1597.5" y="626.7729">findById(Long id): Optional&lt;User&gt;</text><ellipse cx="1588.5" cy="636.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1597.5" y="639.5776">findAll(): List&lt;User&gt;</text><ellipse cx="1588.5" cy="649.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1597.5" y="652.3823">deleteById(Long id): void</text><path d="M1577,829.4531 L1577,945.3828 A0,0 0 0 0 1577,945.3828 L1859,945.3828 A0,0 0 0 0 1859,945.3828 L1859,839.4531 L1849,829.4531 L1769.17,829.4531 L1765.17,659.1631 L1761.17,829.4531 L1577,829.4531 A0,0 0 0 0 1577,829.4531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1849,829.4531 L1849,839.4531 L1859,839.4531 L1849,829.4531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="1583" y="846.52">Extiende JpaRepository&lt;User, Long&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1587" y="861.6528"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1583" y="876.7856">RESPONSABILIDADES:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1591" y="891.9185">â€¢ Acceso a datos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1591" y="907.0513">â€¢ CRUD automÃ¡tico</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="1591" y="922.1841">â€¢ findByCorreo para verificar duplicados</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1591" y="937.3169">â€¢ Mapeo JPA/Hibernate â†” PostgreSQL</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="99.2188" id="User" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1083" y="837.9531"/><ellipse cx="1126.35" cy="853.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1129.3188,859.5938 Q1128.7406,859.8906 1128.1,860.0313 Q1127.4594,860.1875 1126.7563,860.1875 Q1124.2563,860.1875 1122.9281,858.5469 Q1121.6156,856.8906 1121.6156,853.7656 Q1121.6156,850.6406 1122.9281,848.9844 Q1124.2563,847.3281 1126.7563,847.3281 Q1127.4594,847.3281 1128.1,847.4844 Q1128.7563,847.6406 1129.3188,847.9375 L1129.3188,850.6563 Q1128.6938,850.0781 1128.1,849.8125 Q1127.5063,849.5313 1126.8813,849.5313 Q1125.5375,849.5313 1124.85,850.6094 Q1124.1625,851.6719 1124.1625,853.7656 Q1124.1625,855.8594 1124.85,856.9375 Q1125.5375,858 1126.8813,858 Q1127.5063,858 1128.1,857.7344 Q1128.6938,857.4531 1129.3188,856.875 L1129.3188,859.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="1146.65" y="858.1074">User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1084" x2="1206" y1="869.9531" y2="869.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1091" y="877.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="1103" y="884.1636">id: Long</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1091" y="890.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="1103" y="896.9683">correo: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1091" y="903.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1103" y="909.7729">nombre: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1091" y="916.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="1103" y="922.5776">password: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1084" x2="1206" y1="929.1719" y2="929.1719"/><path d="M1257,806.9531 L1257,883.9531 L1207.2,887.9531 L1257,891.9531 L1257,968.2813 A0,0 0 0 0 1257,968.2813 L1521,968.2813 A0,0 0 0 0 1521,968.2813 L1521,816.9531 L1511,806.9531 L1257,806.9531 A0,0 0 0 0 1257,806.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1511,806.9531 L1511,816.9531 L1521,816.9531 L1511,806.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1263" y="824.02">@Entity @Table("users")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1267" y="839.1528"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="1263" y="854.2856">CAMPOS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="1271" y="869.4185">- id (PK, autogenerado)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1271" y="884.5513">- correo (Ãºnico)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1271" y="899.6841">- nombre</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1271" y="914.8169">- password (BCrypt)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1267" y="929.9497"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="1263" y="945.0825">OBJETIVO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="1271" y="960.2153">Representa registro persistido en DB</text><!--MD5=[5d9d7f361cf9aacac4ee237afb90f58a]
class JpaRepository--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="48" id="JpaRepository" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1995" y="578.9531"/><ellipse cx="2010" cy="594.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2005.9219,590.7188 L2005.9219,588.5625 L2013.3125,588.5625 L2013.3125,590.7188 L2010.8438,590.7188 L2010.8438,598.7969 L2013.3125,598.7969 L2013.3125,600.9531 L2005.9219,600.9531 L2005.9219,598.7969 L2008.3906,598.7969 L2008.3906,590.7188 L2005.9219,590.7188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="2024" y="599.1074">JpaRepository</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="30" x="2118" y="575.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="28" x="2119" y="588.0918">T, ID</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1996" x2="2144" y1="610.9531" y2="610.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1996" x2="2144" y1="618.9531" y2="618.9531"/><!--MD5=[f2f4f081f533f1801637718551dd4ff8]
class PasswordEncoder--><rect fill="#FEFECE" filter="url(#frcxfdt427oqi)" height="48" id="PasswordEncoder" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="2279" y="578.9531"/><ellipse cx="2294" cy="594.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2289.9219,590.7188 L2289.9219,588.5625 L2297.3125,588.5625 L2297.3125,590.7188 L2294.8438,590.7188 L2294.8438,598.7969 L2297.3125,598.7969 L2297.3125,600.9531 L2289.9219,600.9531 L2289.9219,598.7969 L2292.3906,598.7969 L2292.3906,590.7188 L2289.9219,590.7188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="2308" y="599.1074">PasswordEncoder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2280" x2="2420" y1="610.9531" y2="610.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2280" x2="2420" y1="618.9531" y2="618.9531"/><path d="M2267,806.9531 L2267,968.2813 L2503,968.2813 L2503,816.9531 L2493,806.9531 L2267,806.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2493,806.9531 L2493,816.9531 L2503,816.9531 L2493,806.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="2273" y="824.02">Persistencia final del usuario:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2277" y="839.1528"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="2273" y="854.2856">TABLE: usuarios</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="2281" y="869.4185">â€¢ id (PK)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="2281" y="884.5513">â€¢ correo (unique)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="2281" y="899.6841">â€¢ nombre</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="2281" y="914.8169">â€¢ password (hashed con BCrypt)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2277" y="929.9497"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="2273" y="945.0825">Acceso mediante:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="2281" y="960.2153">Spring Data JPA + Hibernate</text><path d="M1909,851.9531 L1909,922.4844 L2167,922.4844 L2167,861.9531 L2157,851.9531 L1909,851.9531 " fill="#FBFB77" filter="url(#frcxfdt427oqi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2157,851.9531 L2157,861.9531 L2167,861.9531 L2157,851.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="1915" y="869.02">Commit: "desconocido"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="1915" y="884.1528">Fecha: "desconocido"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="1915" y="899.2856">&#128204; DiseÃ±o de arquitectura realizado por</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="219" x="1915" y="914.4185">Ingeniero Felipe Sulez GÃ³mez</text><!--MD5=[1f8199389a84ca8c5fe0cc600adcd9ec]
link UsuarioController to UserService--><path d="M986.25,141.0431 C986.25,206.0231 986.25,351.9531 986.25,351.9531 C986.25,351.9531 1057.69,351.9531 1057.69,351.9531 " fill="none" id="UsuarioController-&gt;UserService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1062.69,351.9531,1053.69,347.9531,1057.69,351.9531,1053.69,355.9531,1062.69,351.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1061" y="179.02">Llama registrarUsuario()</text><!--MD5=[49936cdc579811bf4cb8332295639607]
link UsuarioController to RegisterUserDTO--><path d="M617.43,110.9531 C414.3,110.9531 125,110.9531 125,110.9531 C125,110.9531 125,250.6831 125,250.6831 " fill="none" id="UsuarioController-&gt;RegisterUserDTO" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="125,255.6831,129,246.6831,125,250.6831,121,246.6831,125,255.6831" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="403" y="179.02">Recibe y valida DTO</text><!--MD5=[5fb5cea8d0ced273abb0825de5d33651]
link UserService to UserRepository--><path d="M1392.75,380.7031 C1392.75,455.9331 1392.75,602.9531 1392.75,602.9531 C1392.75,602.9531 1572.33,602.9531 1572.33,602.9531 " fill="none" id="UserService-&gt;UserRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1577.33,602.9531,1568.33,598.9531,1572.33,602.9531,1568.33,606.9531,1577.33,602.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1622" y="486.02">findByCorreo(), save()</text><!--MD5=[0cfc07ca9069302152fa6ea21f23ec08]
link UserService to PasswordEncoder--><path d="M1443.14,337.9531 C1757.2,337.9531 2350,337.9531 2350,337.9531 C2350,337.9531 2350,573.4931 2350,573.4931 " fill="none" id="UserService-&gt;PasswordEncoder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2350,578.4931,2354,569.4931,2350,573.4931,2346,569.4931,2350,578.4931" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="2085" y="486.02">BCrypt.encode()</text><!--MD5=[e454b6428d3e152525845c1b2c50e263]
link UserService to User--><path d="M1062.84,323.9531 C1045.76,323.9531 1034.75,323.9531 1034.75,323.9531 C1034.75,323.9531 1034.75,887.9531 1034.75,887.9531 C1034.75,887.9531 1077.79,887.9531 1077.79,887.9531 " fill="none" id="UserService-&gt;User" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1082.79,887.9531,1073.79,883.9531,1077.79,887.9531,1073.79,891.9531,1082.79,887.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="1444" y="607.52">Crea entidad</text><!--MD5=[6122a42ef3eb625904d9b9b0fc9fafda]
link UserRepository to User--><path d="M1671.33,658.9831 C1671.33,700.1531 1671.33,748.9531 1671.33,748.9531 C1671.33,748.9531 1145,748.9531 1145,748.9531 C1145,748.9531 1145,832.8431 1145,832.8431 " fill="none" id="UserRepository-&gt;User" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1145,837.8431,1149,828.8431,1145,832.8431,1141,828.8431,1145,837.8431" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="1599" y="736.02">CRUD</text><!--MD5=[0e7528f3b6af38a8f1d02c67f27796bc]
link UserRepository to JpaRepository--><path d="M1860.5,602.9531 C1860.5,602.9531 1974.62,602.9531 1974.62,602.9531 " fill="none" id="UserRepository-&gt;JpaRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1974.62,595.9531,1994.62,602.9531,1974.62,609.9531,1974.62,595.9531" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4cf74a41d21b99ee9bb514c7118102a7]
link JpaRepository to GMN39--><path d="M2145.01,602.9531 C2202.84,602.9531 2273,602.9531 2273,602.9531 C2273,602.9531 2273,722.5731 2273,806.6831 " fill="none" id="JpaRepository-GMN39" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[1047678db533f5328cab08c134fe5bc1]
link UserRepository to PostgreSQL Database--><path d="M1860.71,637.9531 C2007.92,637.9531 2217,637.9531 2217,637.9531 C2217,637.9531 2217,697.4381 2217,758.3181 C2217,759.2694 2217,760.221 2217,761.1727 C2217,761.6485 2217,762.1244 2217,762.6003 " fill="none" id="UserRepository-&gt;PostgreSQL Database" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2217,762.6003,2221,753.6003,2217,757.6003,2213,753.6003,2217,762.6003" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="2167" y="736.02">Persistencia / Queries</text><!--MD5=[a1ca1cba98f6f3f6c8ea11affdd001e0]
link UserRepository to GMN43--><path d="M1860.58,648.9531 C1909.37,648.9531 1952,648.9531 1952,648.9531 C1952,648.9531 1952,785.2131 1952,851.7431 " fill="none" id="UserRepository-GMN43" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[983654c52dcc0bfab1c3ba62995687b7]
@startuml

skinparam linetype ortho
skinparam nodesep 50
skinparam ranksep 50

title Medstrack Backend Architecture run and test 

package "com.medstrack.Medstrack.controller" {
  class UsuarioController {
    + registro(@Valid RegisterUserDTO dto): ResponseEntity<String>
  }
  note bottom of UsuarioController
    @RestController
    @PostMapping("/api/usuarios/registro")

    INPUT:
      - HTTP POST con JSON (RegisterUserDTO)
      - Validaciones automÃ¡ticas (@Valid)

    FLUJO:
      - Llama a UserService.registrarUsuario(dto)

    OUTPUT:
      - JSON (Ã©xito o error)
      - Manejado con @ExceptionHandler global
  end note
}

package "com.medstrack.Medstrack.dto" {
  class RegisterUserDTO {
    - correo: String
    - nombre: String
    - password: String
    + getCorreo(): String
    + setCorreo(String): void
    + getNombre(): String
    + setNombre(String): void
    + getPassword(): String
    + setPassword(String): void
  }
  note right of RegisterUserDTO
    INPUT:
      Datos enviados por cliente:
        â€¢ correo
        â€¢ nombre
        â€¢ password

    VALIDACIONES:
      â€¢ @NotBlank
      â€¢ @Email
      â€¢ @Size(8-12)

    OUTPUT:
      Objeto validado â†’ enviado a Service Layer
  end note
}

package "com.medstrack.Medstrack.service" {
  class UserService {
    - repository: UserRepository
    - passwordEncoder: PasswordEncoder
    + registrarUsuario(RegisterUserDTO dto): void throws Exception
  }
  note bottom of UserService
    @Service
    INYECCIÃ“N:
      - repository (acceso DB)
      - passwordEncoder (BCrypt)

    FLUJO DE LÃ“GICA:
      1. Verificar si correo ya existe
      2. Crear entidad User
      3. Mapear DTO â†’ User
      4. Encriptar password (BCrypt)
      5. Guardar en DB con repository.save()
  end note
}

package "com.medstrack.Medstrack.repository" {
  interface UserRepository {
    + findByCorreo(String correo): Optional<User>
    + save(S entity): S
    + findById(Long id): Optional<User>
    + findAll(): List<User>
    + deleteById(Long id): void
  }
  note bottom of UserRepository
    Extiende JpaRepository<User, Long>

    RESPONSABILIDADES:
      â€¢ Acceso a datos
      â€¢ CRUD automÃ¡tico
      â€¢ findByCorreo para verificar duplicados
      â€¢ Mapeo JPA/Hibernate â†” PostgreSQL
  end note
}

package "com.medstrack.Medstrack.model" {
  class User {
    - id: Long
    - correo: String
    - nombre: String
    - password: String
  }
  note right of User
    @Entity @Table("users")

    CAMPOS:
      - id (PK, autogenerado)
      - correo (Ãºnico)
      - nombre
      - password (BCrypt)

    OBJETIVO:
      Representa registro persistido en DB
  end note
}

package "org.springframework.data.jpa.repository" {
  interface JpaRepository<T, ID>
}

package "org.springframework.security.crypto.password" {
  interface PasswordEncoder
}

UsuarioController - -> UserService : Llama registrarUsuario()
UsuarioController - -> RegisterUserDTO : Recibe y valida DTO
UserService - -> UserRepository : findByCorreo(), save()
UserService - -> PasswordEncoder : BCrypt.encode()
UserService - -> User : Crea entidad
UserRepository - -> User : CRUD
UserRepository -|> JpaRepository

cloud "PostgreSQL Database" {
  note bottom
    Persistencia final del usuario:

    TABLE: usuarios
      â€¢ id (PK)
      â€¢ correo (unique)
      â€¢ nombre
      â€¢ password (hashed con BCrypt)

    Acceso mediante:
      Spring Data JPA + Hibernate
  end note
}
UserRepository - -> "PostgreSQL Database" : Persistencia / Queries

note bottom
  Commit: "desconocido"
  Fecha: "desconocido"
  ðŸ“Œ DiseÃ±o de arquitectura realizado por
  **Ingeniero Felipe Sulez GÃ³mez**
end note

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.17+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>